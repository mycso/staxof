{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\reactJS\\\\stax-of-stories\\\\stax-shop\\\\Advanced-React\\\\stax\\\\frontend\\\\components\\\\Cart.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\tmutation {\\n\\t\\ttoggleCart @client\\n\\t}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tquery {\\n\\t\\tcartOpen @client\\n\\t}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react'; // import { useQuery, useApolloClient, useState } from '@apollo/react-hooks';\n\nimport { Query, Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { adopt } from 'react-adopt';\nimport { useUser } from './User';\nimport styled from 'styled-components';\nimport User from './User';\nimport CartStyles from './styles/CartStyles';\nimport CartTitle from './styles/CartTitle';\nimport CloseButton from './styles/CloseButton';\nimport CartItem from './CartItem';\nimport Form from './styles/Form';\nimport calcTotalPrice from '../lib/calcTotalPrice'; // import calcTotalDeliveryPrice from '../lib/calcTotalDeliveryPrice';\n\nimport formatMoney from '../lib/formatMoney';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { faChevronRight } from '@fortawesome/free-solid-svg-icons';\nimport TakeMyMoney from './TakeMyMoney';\nvar LOCAL_STATE_QUERY = gql(_templateObject());\nvar TOGGLE_CART_MUTATION = gql(_templateObject2());\n/* eslint-disable */\n\n/* eslint-disable */\n\nvar Composed = adopt({\n  user: function user(_ref) {\n    var render = _ref.render;\n    return /*#__PURE__*/React.createElement(User, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 24\n      }\n    }, render);\n  },\n  toggleCart: function toggleCart(_ref2) {\n    var render = _ref2.render;\n    return /*#__PURE__*/React.createElement(Mutation, {\n      mutation: TOGGLE_CART_MUTATION,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 30\n      }\n    }, render);\n  },\n  localState: function localState(_ref3) {\n    var render = _ref3.render;\n    return /*#__PURE__*/React.createElement(Query, {\n      query: LOCAL_STATE_QUERY,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 30\n      }\n    }, render);\n  }\n});\n/* eslint-enable */\n// const international = 1100;\n// const royalmail = 500;\n\nvar Cart = function Cart(_ref4) {\n  var cartItem = _ref4.cartItem;\n  return /*#__PURE__*/React.createElement(Composed, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 2\n    }\n  }, function (_ref5) {\n    var user = _ref5.user,\n        toggleCart = _ref5.toggleCart,\n        localState = _ref5.localState;\n    var me = user.data.me;\n    if (!me) return null;\n    return /*#__PURE__*/React.createElement(CartStyles, {\n      open: localState.data.cartOpen,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(CloseButton, {\n      onClick: toggleCart,\n      title: \"close\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faTimes,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 55\n      }\n    })), /*#__PURE__*/React.createElement(CartTitle, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, me.email, \"'s Cart\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, \"You have \", me.cart.length, \" Item\", me.cart.length === 1 ? '' : 's', \" in your cart\")), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }\n    }, me.cart.map(function (cartItem) {\n      return /*#__PURE__*/React.createElement(CartItem, {\n        key: cartItem.id,\n        cartItem: cartItem,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 8\n        }\n      });\n    })), /*#__PURE__*/React.createElement(\"footer\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }\n    }, \"Total: \", formatMoney(calcTotalPrice(me.cart)))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, me.cart.length > 0 && /*#__PURE__*/React.createElement(TakeMyMoney, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"buyIt\",\n      className: \"btn btn-success checkout\",\n      type: \"submit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }\n    }, \"Checkout \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faChevronRight,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 89\n      }\n    }))))));\n  });\n};\n\nexport default Cart;\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATION };","map":{"version":3,"sources":["C:/Users/Michael/Documents/reactJS/stax-of-stories/stax-shop/Advanced-React/stax/frontend/components/Cart.js"],"names":["React","Component","Query","Mutation","gql","adopt","useUser","styled","User","CartStyles","CartTitle","CloseButton","CartItem","Form","calcTotalPrice","formatMoney","FontAwesomeIcon","faTimes","faChevronRight","TakeMyMoney","LOCAL_STATE_QUERY","TOGGLE_CART_MUTATION","Composed","user","render","toggleCart","localState","Cart","cartItem","me","data","cartOpen","email","cart","length","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n// import { useQuery, useApolloClient, useState } from '@apollo/react-hooks';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\nimport { adopt } from 'react-adopt';\r\nimport { useUser } from './User';\r\nimport styled from 'styled-components';\r\nimport User from './User';\r\nimport CartStyles from './styles/CartStyles';\r\nimport CartTitle from './styles/CartTitle';\r\nimport CloseButton from './styles/CloseButton';\r\nimport CartItem from './CartItem';\r\nimport Form from './styles/Form';\r\nimport calcTotalPrice from '../lib/calcTotalPrice';\r\n// import calcTotalDeliveryPrice from '../lib/calcTotalDeliveryPrice';\r\nimport formatMoney from '../lib/formatMoney';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    faTimes,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { \r\n    faChevronRight,\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport TakeMyMoney from './TakeMyMoney';\r\n\r\nconst LOCAL_STATE_QUERY = gql`\r\n\tquery {\r\n\t\tcartOpen @client\r\n\t}\r\n`;\r\n\r\nconst TOGGLE_CART_MUTATION = gql`\r\n\tmutation {\r\n\t\ttoggleCart @client\r\n\t}\r\n`;\r\n\r\n/* eslint-disable */\r\n/* eslint-disable */\r\n\r\nconst Composed = adopt({\r\n\tuser: ({ render }) => <User>{render}</User>,\r\n\ttoggleCart: ({ render }) => <Mutation mutation={TOGGLE_CART_MUTATION}>{render}</Mutation>,\r\n\tlocalState: ({ render }) => <Query query={LOCAL_STATE_QUERY}>{render}</Query>,\r\n});\r\n\r\n/* eslint-enable */\r\n\r\n// const international = 1100;\r\n// const royalmail = 500;\r\n\r\nconst Cart = ({ cartItem }) => (\r\n\r\n\t<Composed>\r\n\t\t{({user, toggleCart, localState}) => {\r\n\t\tconst me = user.data.me;\r\n\t\t\t\r\n\t\t\tif(!me) return null;\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<CartStyles open={localState.data.cartOpen}>\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<CloseButton onClick={toggleCart} title=\"close\"><FontAwesomeIcon icon={faTimes} /></CloseButton>\r\n\t\t\t\t\t\t<CartTitle>{me.email}'s Cart</CartTitle>\r\n\t\t\t\t\t\t<p>You have {me.cart.length} Item{me.cart.length === 1 ? '' : 's'} in your cart</p>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{me.cart.map(cartItem => \r\n\t\t\t\t\t\t\t<CartItem key={cartItem.id} cartItem={cartItem} />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<footer>\r\n\r\n\t\t\t\t    \t{/*<div>\r\n\t\t\t\t    \t\tDelivery Cost: {formatMoney(calcTotalDeliveryPrice(me.cart))}\r\n\t\t\t\t    \t</div>*/}\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>Total: {formatMoney(calcTotalPrice(me.cart))}</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{me.cart.length > 0 && (\r\n\t\t\t\t\t\t\t\t<TakeMyMoney>\r\n\t\t\t\t\t\t\t\t\t<button id=\"buyIt\" className=\"btn btn-success checkout\" type=\"submit\">Checkout <FontAwesomeIcon icon={faChevronRight} /></button>\r\n\t\t\t\t\t\t\t\t</TakeMyMoney>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</footer>\r\n\t\t\t\t</CartStyles>\r\n\t\t\t);\r\n\t\t}}\r\n\t</Composed>\r\n);\r\n\r\nexport default Cart;\r\nexport { LOCAL_STATE_QUERY, TOGGLE_CART_MUTATION };"]},"metadata":{},"sourceType":"module"}