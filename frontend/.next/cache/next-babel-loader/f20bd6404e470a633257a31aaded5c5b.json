{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\reactJS\\\\stax-of-stories\\\\stax-shop\\\\Advanced-React\\\\stax\\\\frontend\\\\components\\\\Pagination.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tquery PAGINATION_QUERY {\\n\\t\\titemsConnection {\\n\\t\\t\\taggregate {\\n\\t\\t\\t\\tcount\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport PaginationStyles from './styles/PaginationStyles';\nimport { perPage } from '../config';\nimport User from './User';\nvar PAGINATION_QUERY = gql(_templateObject());\n\nvar Pagination = function Pagination(props) {\n  return /*#__PURE__*/React.createElement(Query, {\n    query: PAGINATION_QUERY,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 3\n    }\n  }, function (_ref) {\n    var data = _ref.data,\n        loading = _ref.loading,\n        error = _ref.error;\n    if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 24\n      }\n    }, \"Loading...\");\n    var count = data.itemsConnection.aggregate.count;\n    var pages = Math.ceil(count / perPage);\n    var page = props.page;\n    return /*#__PURE__*/React.createElement(PaginationStyles, {\n      \"data-test\": \"pagination\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(User, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, function (_ref2) {\n      var me = _ref2.data.me;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"head\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"title\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 10\n        }\n      }, \"Stax Of Stories - \", page, \" of \", pages)), /*#__PURE__*/React.createElement(Link, {\n        prefetch: true,\n        href: {\n          pathname: 'items',\n          query: {\n            page: page - 1\n          }\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"prev\",\n        \"aria-disabled\": page <= 1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 10\n        }\n      }, \"\\u2190 Prev\")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }\n      }, props.page, \" of\", /*#__PURE__*/React.createElement(\"span\", {\n        className: \"totalPages\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 10\n        }\n      }, \" \", pages)), me && /*#__PURE__*/React.createElement(React.Fragment, null, me.permissions.includes(\"ADMIN\") && /*#__PURE__*/React.createElement(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, count, \" Items Total\")), /*#__PURE__*/React.createElement(Link, {\n        prefetch: true,\n        href: {\n          pathname: 'items',\n          query: {\n            page: page + 1\n          }\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"next\",\n        \"aria-disabled\": page >= pages,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 10\n        }\n      }, \"Next \\u2192\")));\n    }));\n  });\n};\n\nexport default Pagination;\nexport { PAGINATION_QUERY };","map":{"version":3,"sources":["C:/Users/Michael/Documents/reactJS/stax-of-stories/stax-shop/Advanced-React/stax/frontend/components/Pagination.js"],"names":["React","gql","Query","Head","Link","PaginationStyles","perPage","User","PAGINATION_QUERY","Pagination","props","data","loading","error","count","itemsConnection","aggregate","pages","Math","ceil","page","me","pathname","query","permissions","includes"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport gql from 'graphql-tag';\r\nimport { Query } from 'react-apollo';\r\nimport Head from 'next/head';\r\nimport Link from 'next/link';\r\nimport PaginationStyles from './styles/PaginationStyles';\r\nimport { perPage } from '../config';\r\nimport User from './User';\r\n\r\nconst PAGINATION_QUERY = gql`\r\n\tquery PAGINATION_QUERY {\r\n\t\titemsConnection {\r\n\t\t\taggregate {\r\n\t\t\t\tcount\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n`;\r\n\r\nconst Pagination = props => (\r\n\t\r\n\t\t<Query query={PAGINATION_QUERY}>\r\n\t\t\t{({data, loading, error}) => {\r\n\t\t\t\tif(loading) return <p>Loading...</p>;\r\n\t\t\t\tconst count = data.itemsConnection.aggregate.count;\r\n\t\t\t\tconst pages = Math.ceil(count / perPage);\r\n\t\t\t\tconst page = props.page;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<PaginationStyles data-test=\"pagination\">\r\n\t\t\t\t\t\t<User>\r\n\t\t\t\t\t\t\t{({ data: { me } }) => (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<head>\r\n\t\t\t\t\t\t\t\t\t<title>\r\n\t\t\t\t\t\t\t\t\t\tStax Of Stories - {page} of {pages}\r\n\t\t\t\t\t\t\t\t\t</title>\r\n\t\t\t\t\t\t\t\t</head>\r\n\t\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\t\tprefetch={true}\r\n\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\tpathname: 'items',\r\n\t\t\t\t\t\t\t\t\t\tquery: { page: page - 1 }\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<a className=\"prev\" aria-disabled={page <= 1}>← Prev</a>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{props.page} of \r\n\t\t\t\t\t\t\t\t\t<span className=\"totalPages\"> {pages}</span>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{me && (\r\n\t\t\t\t\t      \t\t\t<>\r\n\r\n\t\t\t\t\t\t\t\t\t{me.permissions.includes(\"ADMIN\") && (\r\n\t\t\t\t\t\t\t\t\t\t<p>{count} Items Total</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<Link \r\n\t\t\t\t\t\t\t\t\tprefetch={true}\r\n\t\t\t\t\t\t\t\t\thref={{\r\n\t\t\t\t\t\t\t\t\t\tpathname: 'items',\r\n\t\t\t\t\t\t\t\t\t\tquery: { page: page + 1 }\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<a className=\"next\" aria-disabled={page >= pages}>Next →</a>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n          \t\t\t\t</User>\r\n\t\t\t\t\t</PaginationStyles>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t</Query>\r\n);\r\n\r\nexport default Pagination;\r\nexport { PAGINATION_QUERY };"]},"metadata":{},"sourceType":"module"}