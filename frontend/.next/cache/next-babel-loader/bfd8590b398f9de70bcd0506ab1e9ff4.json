{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\reactJS\\\\stax-of-stories-2\\\\stax2\\\\frontend\\\\components\\\\Cart.js\";\nimport styled from 'styled-components';\nimport CartStyles from './styles/CartStyles';\nimport CartTitle from './styles/CartTitle';\nimport { useUser } from './User';\nimport { useCart } from '../lib/cartState';\nimport calcTotalPrice from '../lib/calcTotalPrice';\nimport CloseButton from './styles/CloseButton';\nimport formatMoney from '../lib/formatMoney';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nconst CartItemStyles = styled.li.withConfig({\n  displayName: \"Cart__CartItemStyles\",\n  componentId: \"sc-19s6z00-0\"\n})([\"padding:1rem 0;border-bottom:0.5px solid \", \";display:grid;align-items:center;grid-template-columns:auto 1fr auto;img{margin-right:10px;}h3,p{margin:0;}@media (max-width:1214px){grid-template-columns:1fr;}\"], props => props.theme.grey);\n\nfunction CartItem({\n  cartItem\n}) {\n  var _product$photo, _product$photo$image;\n\n  const {\n    product\n  } = cartItem;\n  if (!product) return null; // console.log(product);\n\n  return /*#__PURE__*/_jsxDEV(CartItemStyles, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      width: \"100\",\n      src: product === null || product === void 0 ? void 0 : (_product$photo = product.photo) === null || _product$photo === void 0 ? void 0 : (_product$photo$image = _product$photo.image) === null || _product$photo$image === void 0 ? void 0 : _product$photo$image.publicUrlTransformed,\n      alt: product === null || product === void 0 ? void 0 : product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-item-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [formatMoney(product.price * cartItem.quantity), ' - ', /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [cartItem.quantity, \"\\xD7 \", formatMoney(product.price), \" each\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\nexport default function Cart() {\n  const me = useUser();\n  const {\n    cartOpen,\n    closeCart\n  } = useCart(); // console.log(cartOpen);\n\n  if (!me) return /*#__PURE__*/_jsxDEV(CartStyles, {\n    open: cartOpen,\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n        onClick: closeCart,\n        title: \"close\",\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faTimes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CartTitle, {\n        children: \"My Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n  console.log(me);\n  return /*#__PURE__*/_jsxDEV(CartStyles, {\n    open: cartOpen,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n        onClick: closeCart,\n        title: \"close\",\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faTimes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CartTitle, {\n        children: [me.email, \"'s Cart\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You have \", me.cart.length, \" Item\", me.cart.length === 1 ? '' : 's', \" in your cart\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: me.cart.map(cartItem => /*#__PURE__*/_jsxDEV(CartItem, {\n        cartItem: cartItem\n      }, cartItem.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Total: \", formatMoney(calcTotalPrice(me.cart))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}","map":{"version":3,"sources":["C:/Users/Michael/Documents/reactJS/stax-of-stories-2/stax2/frontend/components/Cart.js"],"names":["styled","CartStyles","CartTitle","useUser","useCart","calcTotalPrice","CloseButton","formatMoney","FontAwesomeIcon","faTimes","CartItemStyles","li","props","theme","grey","CartItem","cartItem","product","photo","image","publicUrlTransformed","name","price","quantity","Cart","me","cartOpen","closeCart","console","log","email","cart","length","map","id"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\r\nimport CartStyles from './styles/CartStyles';\r\nimport CartTitle from './styles/CartTitle';\r\nimport { useUser } from './User';\r\nimport { useCart } from '../lib/cartState';\r\nimport calcTotalPrice from '../lib/calcTotalPrice';\r\nimport CloseButton from './styles/CloseButton';\r\n\r\nimport formatMoney from '../lib/formatMoney';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n    faTimes,\r\n} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst CartItemStyles = styled.li`\r\n\tpadding: 1rem 0;\r\n\tborder-bottom: 0.5px solid ${props => props.theme.grey};\r\n\tdisplay: grid;\r\n\talign-items: center;\r\n\tgrid-template-columns: auto 1fr auto;\r\n\timg {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\th3,\r\n\tp {\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t@media (max-width: 1214px) {\r\n    \tgrid-template-columns: 1fr;\r\n  \t}\r\n`;\r\n\r\nfunction CartItem({ cartItem }) {\r\n    const { product } = cartItem;\r\n    if (!product) return null;\r\n    // console.log(product);\r\n    return (\r\n        <CartItemStyles>\r\n            <img \r\n                width=\"100\" \r\n                src={product?.photo?.image?.publicUrlTransformed} \r\n                alt={product?.name} \r\n            />\r\n            <div className=\"cart-item-details\">\r\n                <h3>{product.name}</h3>\r\n                <p>\r\n                    {formatMoney(product.price * cartItem.quantity)}\r\n                    {/*{formatMoney(cartItem.quantity * cartItem.item.price + cartItem.item.deliveryCost)}*/}\r\n                    {' - '}\r\n                    <em>\r\n                        {cartItem.quantity}\r\n                        &times; {formatMoney(product.price)} each\r\n                        {/*&times; {formatMoney(cartItem.item.price + cartItem.item.deliveryCost)} each*/}\r\n                        {/*<p>Delivery Cost: {formatMoney(cartItem.item.deliveryCost * cartItem.quantity)}</p>*/}\r\n                    </em>\r\n                </p>\r\n            </div>\r\n        </CartItemStyles>\r\n    );\r\n}\r\n\r\nexport default function Cart() {\r\n    const me = useUser();\r\n    const { cartOpen, closeCart } = useCart();\r\n    // console.log(cartOpen);\r\n    if (!me) return (\r\n        <CartStyles open={cartOpen}>\r\n            <header>\r\n                <CloseButton onClick={closeCart} title=\"close\"><FontAwesomeIcon icon={faTimes} /></CloseButton>\r\n                <CartTitle>My Cart</CartTitle>\r\n            </header>\r\n        </CartStyles>\r\n    );\r\n    console.log(me);\r\n    \r\n    return (\r\n        <CartStyles open={cartOpen}>\r\n            <header>\r\n                <CloseButton onClick={closeCart} title=\"close\"><FontAwesomeIcon icon={faTimes} /></CloseButton>\r\n                <CartTitle>{me.email}'s Cart</CartTitle>\r\n                <p>You have {me.cart.length} Item{me.cart.length === 1 ? '' : 's'} in your cart</p>\r\n            </header>\r\n            <ul>\r\n                {me.cart.map(cartItem => \r\n                    <CartItem key={cartItem.id} cartItem={cartItem} />\r\n                )}\r\n            </ul>\r\n\r\n            <footer>\r\n\r\n                {/*<div>\r\n                    Delivery Cost: {formatMoney(calcTotalDeliveryPrice(me.cart))}\r\n                </div>*/}\r\n\r\n                <div>\r\n                    <span>Total: {formatMoney(calcTotalPrice(me.cart))}</span>\r\n                </div>\r\n\r\n                {/* <div>\r\n                    {me.cart.length > 0 && (\r\n                        <TakeMyMoney>\r\n                            <button id=\"buyIt\" className=\"btn btn-success checkout\" type=\"submit\">Checkout <FontAwesomeIcon icon={faChevronRight} /></button>\r\n                        </TakeMyMoney>\r\n                    )}\r\n                </div> */}\r\n                \r\n            </footer>\r\n        </CartStyles>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}